<!DOCTYPE html>
<html>

  <head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Postgresql在Linux环境下yum方式安装和配置 - 海波的博客</title>

	<link rel="shortcut icon" href="/styles/images/favicon.png">
	<link rel="icon" href="/styles/images/favicon.png">

	<link rel="stylesheet" href="/styles/css/index.css">
	<link rel="stylesheet" href="/styles/css/fontawesome/css/font-awesome.min.css">
	<link rel="stylesheet" href="/styles/css/syntax.css">
	<link rel="canonical" href="/2016/11/02/postgresql-yum-install/">
	<link rel="alternate" type="application/rss+xml" title="海波的博客" href="/feed.xml">

	<meta name="keywords" content="Postgresql在Linux环境下yum方式安装和配置, 海波的博客, 葛海波;个人博客;">
	<meta name="description" content="葛海波;个人博客;">

	<script src="/styles/js/jquery.min.js"></script>
	<!--[if lt IE 9]>
    	<script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
  	<![endif]-->
  	<script>
		var _hmt = _hmt || [];
		(function() {
		  var hm = document.createElement("script");
		  hm.src = "//hm.baidu.com/hm.js?";
		  var s = document.getElementsByTagName("script")[0];
		  s.parentNode.insertBefore(hm, s);
		})();
	</script>
  	<style type="text/css">
	  	.docs-content{
	  		margin-bottom: 10px;
	  	}
  	</style>
</head>


  <body class="index">

    <header class="navbar navbar-inverse navbar-fixed-top docs-nav" role="banner">
  <div class="container">
    <div class="navbar-header">
      <button class="navbar-toggle" type="button" data-toggle="collapse" data-target=".bs-navbar-collapse">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <!-- <a href="/" class="navbar-brand">
        <img src="/styles/images/logo.jpg">
      </a> -->
    </div>
    <nav class="collapse navbar-collapse bs-navbar-collapse" role="navigation">
      <ul class="nav navbar-nav">
        <li>
          <a href="/">Home</a>
        </li>
        <li>
          <a href="/categories/">大类分解</a>
        </li>
        <li>
          <a href="/tag">小类内聚</a>
        </li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <!-- <li>
            <a><span id="busuanzi_container_site_pv">本站总访问量<span id="busuanzi_value_site_pv"></span>次</span></a>
        </li> -->
        <li>
          <a href="/donate/"><strong>打赏</strong></a>
        </li>
        <li class="dropdown">
          <a href="#" class="dropdown-toggle" data-toggle="dropdown">关于<b class="caret"></b></a>
          <ul class="dropdown-menu">
            <li><a rel="nofollow" target="_blank" href="https://github.com/gehaibo">Github</a></li>
            <li><a rel="nofollow" target="_blank" href="">关于作者</a></li>
            <li><a rel="nofollow" href="/books">我的书单</a></li>
            <li><a rel="nofollow" href="/reference">推荐博客</a></li>
            <!-- <li><a href="/feed.xml">RSS订阅</a></li> -->
            <!-- <li class="divider"></li> -->
            <!-- <li><a rel="nofollow" target="_blank" href="https://github.com/gehaibo/gehaibo.github.com">本项目</a></li> -->
          </ul>
        </li>
      </ul>
    </nav>
  </div>
</header>

    <div class="docs-header" id="content">
  <div class="container">
  	
  		<!--
		    <h1>Postgresql在Linux环境下yum方式安装和配置</h1>
		    <p>Post on Nov 02, 2016 by <a href="/about">ghb</a></p>
		-->
		    <h1>Make it right before you make it faster.</h1>
    
  </div>
</div>
    
      
<div class="banner">
  <div class="container">
  	
    	<a href="/categories/#技术文档-ref">技术文档</a>	/
    	<a href="/tag/#Postgresql-ref">Postgresql</a>
    
  </div>
</div>

    

    <div class="container docs-container">
  <div class="row">
    <div class="col-md-3">
      <div class="sidebar hidden-print" role="complementary">
        <div id="navigation">
  <h1>目录</h1>
  <ul class="nav sidenav">
<!--
    
      
      
      
      

      
        <li><a href="#year_2017">2017</a>
          <ul class="nav">
            <li><a href="#month_2017_April">April</a></li>
      

      
            
          
        
      
    
      
      
      
      

      

      
            
          
        
      
    
      
      
      
      

      

      
            
          
        
      
    
      
      
      
      

      

      
            
          
              <li><a href="#month_2017_March">March</a></li>
          
        
      
    
      
      
      
      

      

      
            
          
        
      
    
      
      
      
      

      

      
            
          
        
      
    
      
      
      
      

      

      
            
          
              <li><a href="#month_2017_February">February</a></li>
          
        
      
    
      
      
      
      

      

      
            
          
              <li><a href="#month_2017_January">January</a></li>
          
        
      
    
      
      
      
      

      

      
            
          
        
      
    
      
      
      
      

      

      
            
          
        
      
    
      
      
      
      

      

      
        
            </ul>
          </li>
          <li><a href="#year_2016">2016</a>
            <ul class="nav">
              <li><a href="#month_2016_December">December</a></li>
        
      
    
      
      
      
      

      

      
            
          
        
      
    
      
      
      
      

      

      
            
          
              <li><a href="#month_2016_November">November</a></li>
          
        
      
    
      
      
      
      

      

      
            
          
        
      
    
      
      
      
      

      

      
            
          
              <li><a href="#month_2016_October">October</a></li>
          
        
      
    
      
      
      
      

      

      
            
          
        
      
    
      
      
      
      

      

      
            
          
              <li><a href="#month_2016_September">September</a></li>
          
        
      
    
      
      
      
      

      

      
            
          
              <li><a href="#month_2016_June">June</a></li>
          
        
      
    
      
      
      
      

      

      
            
          
              <li><a href="#month_2016_May">May</a></li>
          
        
      
    
      
      
      
      

      

      
            
          
        
      
    
      
      
      
      

      

      
            
          
        
      
    
      
      
      
      

      

      
            
          
              <li><a href="#month_2016_March">March</a></li>
          
        
      
    
      
      
      
      

      

      
            
          
        
      
    
      
      
      
      

      

      
        
            </ul>
          </li>
          <li><a href="#year_2015">2015</a>
            <ul class="nav">
              <li><a href="#month_2015_March">March</a></li>
        
      
    
      
      
      
      

      

      
            
          
        
      
    
      
      
      
      

      

      
            
          
        
      
    
      
      
      
      

      

      
            
          
              <li><a href="#month_2015_February">February</a></li>
          
        
      
    
      
      
      
      

      

      
            
          
        
      
    
      
      
      
      

      

      
            
          
        
      
    
      
      
      
      

      

      
            
          
        
      
    
      
      
      
      

      

      
            
          
              <li><a href="#month_2015_January">January</a></li>
          
        
      
    
      
      
      
      

      

      
            
          
        
      
    
      
      
      
      

      

      
            
          
        
      
    
      
      
      
      

      

      
            
          
        
      
    
      
      
      
      

      

      
            
          
        
      
    
      
      
      
      

      

      
            
          
        
      
    
      
      
      
      

      

      
            
          
        
      
    
      
      
      
      

      

      
            
          
        
      
    
      
      
      
      

      

      
            
          
        
      
    
      
      
      
      

      

      
            
          
        
      
    
      
      
      
      

      

      
            </ul>
          </li>
      
    
-->
  </ul>
</div> 
      </div>
    </div>
    <div class="col-md-9" role="main">
      <div class="panel docs-content">
        <div class="wrapper">
            <header class="post-header">
              <h1 class="post-title">Postgresql在Linux环境下yum方式安装和配置</h1>
              <!--
                <p class="post-meta">Nov 2, 2016</p>
              -->
              <div class="meta">Posted on <span class="postdate">Nov 02, 2016</span> By <a target="_blank" href="http://localhost:4000">ghb</a></div>
              <br />
            </header>
            <article class="post-content">
              <ul id="markdown-toc">
  <li><a href="#yum安装" id="markdown-toc-yum安装">Yum安装</a></li>
  <li><a href="#初始化数据库并启动数据库" id="markdown-toc-初始化数据库并启动数据库">初始化数据库，并启动数据库</a></li>
  <li><a href="#把postgresql-服务加入到启动列表" id="markdown-toc-把postgresql-服务加入到启动列表">把PostgreSQL 服务加入到启动列表</a></li>
  <li><a href="#修改postgresql-数据库用户postgres的密码-并创建数据库和测试数据" id="markdown-toc-修改postgresql-数据库用户postgres的密码-并创建数据库和测试数据">修改PostgreSQL 数据库用户postgres的密码, 并创建数据库和测试数据</a></li>
  <li><a href="#修改linux-系统用户postgres-的密码" id="markdown-toc-修改linux-系统用户postgres-的密码">修改linux 系统用户postgres 的密码</a></li>
  <li><a href="#修改postgressql-数据库配置实现远程访问" id="markdown-toc-修改postgressql-数据库配置实现远程访问">修改PostgresSQL 数据库配置实现远程访问</a></li>
  <li><a href="#参考资料" id="markdown-toc-参考资料">参考资料：</a></li>
</ul>

<h1 id="yum安装">Yum安装</h1>

<ul>
  <li>安装Yum源</li>
</ul>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="o">[</span>root@localhost ~]# yum install http://yum.postgresql.org/9.4/redhat/rhel-6-x86_64/pgdg-redhat94-9.4-1.noarch.rpm</code></pre></figure>

<ul>
  <li>Yum安装</li>
</ul>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="o">[</span>root@localhost ~]# yum install postgresql94-server postgresql94-contrib</code></pre></figure>

<h1 id="初始化数据库并启动数据库">初始化数据库，并启动数据库</h1>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="o">[</span>root@localhost ~]# service postgresql-9.4 initdb
<span class="o">[</span>root@localhost ~]# service postgresql-9.4 start</code></pre></figure>

<h1 id="把postgresql-服务加入到启动列表">把PostgreSQL 服务加入到启动列表</h1>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="o">[</span>root@localhost ~]# chkconfig postgresql-9.4 on
<span class="o">[</span>root@localhost ~]# chkconfig --list|grep postgres</code></pre></figure>

<h1 id="修改postgresql-数据库用户postgres的密码-并创建数据库和测试数据">修改PostgreSQL 数据库用户postgres的密码, 并创建数据库和测试数据</h1>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="o">[</span>root@localhost ~]# su postgres
<span class="o">[</span>root@localhost ~]# psql
<span class="c"># ALTER USER postgres WITH PASSWORD 'postgres';</span>
<span class="c"># select * from pg_shadow ;</span>
<span class="c"># create database david;</span>
<span class="c"># \c david</span>
<span class="c"># create table test (id integer, name text);</span>
<span class="c"># insert into test values (1,'david');</span>
<span class="c"># select * from test ;</span></code></pre></figure>

<h1 id="修改linux-系统用户postgres-的密码">修改linux 系统用户postgres 的密码</h1>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="o">[</span>root@localhost ~]# passwd postgres</code></pre></figure>

<h1 id="修改postgressql-数据库配置实现远程访问">修改PostgresSQL 数据库配置实现远程访问</h1>

<ul>
  <li>修改postgresql.conf 文件，如果想让PostgreSQL 监听整个网络的话，将listen_addresses 前的#去掉，并将 listen_addresses = ‘localhost’ 改成 listen_addresses = ‘*’</li>
</ul>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="o">[</span>root@localhost ~]# vi /var/lib/pgsql/9.2/data/postgresql.conf</code></pre></figure>

<ul>
  <li>修改客户端认证配置文件pg_hba.conf，在IPV4下面添加一条记录”host  all    all    10.1.5.0/24    md5”，其中10.1.5.0代表网段’10.1.5.*’, 24是子网掩码，代表10.1.5.0-10.1.5.255, md5代表使用md5加密</li>
</ul>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="o">[</span>root@localhost ~]# vi /var/lib/pgsql/9.2/data/pg_hba.conf</code></pre></figure>

<ul>
  <li><b>远程连接测试，默认端口是5432 - 成功</b></li>
</ul>

<p><br />
<br /></p>

<h1 id="参考资料">参考资料：</h1>

<p>CentOS 6.3下PostgreSQL 的安装与配置：<a href="http://www.cnblogs.com/mchina/archive/2012/06/06/2539003.html">http://www.cnblogs.com/mchina/archive/2012/06/06/2539003.html</a></p>

<p>PostgreSQL 9.4.5 Documentation : <a href="http://www.postgresql.org/docs/9.4/interactive/index.html">http://www.postgresql.org/docs/9.4/interactive/index.html</a></p>

<p>Linux downloads (Red Hat family) : <a href="http://www.postgresql.org/download/linux/redhat/">http://www.postgresql.org/download/linux/redhat/</a></p>

<p><br />
<br /></p>

            </article>
        </div>
      </div>
      <div class="panel docs-content">
        <article class="post-content">
          <div class="wrapper">
             
          </div>
        </article>
      </div>
    </div>
  </div>
</div>

    
    <footer class="footer" role="contentinfo">
	<div class="container">
		<p class="copyright">Copyright &copy; 2014-2017 <a href=""><code>ghb</code></a>.</p>
		<p>Powered by <a href="http://jekyllrb.com">Jekyll</a>, themed from <a href="http://lesscss.cn/">Less</a></p>
	</div>
</footer>

<script src="/styles/js/jquery.min.js"></script>
<script src="/styles/js/bootstrap.min.js"></script>
<script src="/styles/js/holder.min.js"></script>
<script src="/styles/js/lessismore.js"></script>
<script src="/styles/js/application.js"></script>
<script async src="//dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>

  </body>
</html>
